"use strict";var tz_flex_grid={lightboxopen:!1,verticle_masonry:function(a,b,c){const d=Array(a).fill(0);var e=c("#"+b+" .tz-flex-items");e.children().each(function(b,e){var f=b%a,g=c(e);g.css("order",f),d[f]+=parseFloat(g.height()),g.find(">.tz-flex-grid-media").each(function(a,b){c(b).css("background-image",'url("'+c(b).find("img").attr("src")+'")').empty()})}),c(window).width()>992&&e.css("height",Math.max.apply(Math,d)+"px"),c(window).on("resize",function(){c(window).width()<992?e.css("height",""):e.css("height",Math.max.apply(Math,d)+"px")})},lightbox:function(a,b,c){var d=[];c("#"+b+" .tz-flex-items").find(".tz-flex-grid-media").each(function(a,b){var e=c(b).find("img").attr("src"),f=c(b).find("img").attr("src"),g=c(b).data("id");if("undefined"!==g&&null!==g){var h={src:f,dataid:g,opts:{thumb:e}};d.push(h)}}),c("#"+b+" .tz-flex-lightbox").on("click",function(b){b.preventDefault();for(var e=c(this).data("id"),f=0,g=0;g<d.length;g++)e===d[g].dataid&&(f=g);!1===tz_flex_grid.lightboxopen&&(c(window).width()<768?c.fancybox.open(d,{loop:!0,thumbs:{autoStart:!1},buttons:a,beforeShow:function(a,b){tz_flex_grid.lightboxopen=!0},afterClose:function(a,b){tz_flex_grid.lightboxopen=!1}},f):c.fancybox.open(d,{loop:!0,thumbs:{autoStart:!0},buttons:a,beforeShow:function(a,b){tz_flex_grid.lightboxopen=!0},afterClose:function(a,b){tz_flex_grid.lightboxopen=!1}},f))})},filter:function(a,b){b("#tz-flex-filter-"+a+" a").on("click",function(c){c.preventDefault(),b("#tz-flex-filter-"+a+" a").removeClass("selected"),b(this).addClass("selected");var d=b(this).data("value");b("#tz-flex-grid-"+a+" .tz-flex-item").each(function(a,c){var e=b(c).data("filter").split(",");"*"===d?b(c).removeClass("tz-flex-faded"):e.includes(d)?b(c).removeClass("tz-flex-faded"):b(c).addClass("tz-flex-faded")})})},grid_style_2:function(a,b,c){var d=c("#"+a+" .tz-flex-items"),e=d.find(">.tz-flex-item").length,f=(d.width()-d.width()%b)/b;if(c(d.find(">.tz-flex-item")[1]).css("grid-column-end","").css("grid-row-end",""),d.find(">.tz-flex-item").last().show(),e<9||f<4||e-f<3)return!0;var g=(e-(f+1))/2;g<Math.round(g)?(g=Math.round(g)-1,d.find(">.tz-flex-item").last().hide()):g=Math.round(g),c(d.find(">.tz-flex-item")[1]).css("grid-column-end","span "+(f-2)).css("grid-row-end","span "+g)},grid_style_3:function(a,b,c){var d=c("#"+a+" .tz-flex-items"),e=d.find(">.tz-flex-item").length,f=(d.width()-d.width()%b)/b;if(d.find(">.tz-flex-item").css("grid-row-end","").show(),e<6||f<3)return!0;var g=Math.round(f/2),h=e-g,i=f-g,j=h%i,k=(h-j)/i,l=0;if(1===k)return!0;d.find(">.tz-flex-item").each(function(a,b){l<g&&a%2==0&&(c(b).css("grid-row-end","span "+k),l++),a>=e-j&&c(b).hide()})},grid_style_4:function(a,b,c){var d=c("#"+a+" .tz-flex-items"),e=d.find(">.tz-flex-item").length,f=(d.width()-d.width()%b)/b;if(d.find(">.tz-flex-item").css("grid-column-end","").css("grid-row-end","").show(),3===e&&2===f&&c(d.find(">.tz-flex-item")[1]).css("grid-column-end","span 1").css("grid-row-end","span 2"),3===e&&3===f&&c(d.find(">.tz-flex-item")[1]).css("grid-column-end","span 2").css("grid-row-end","span 2"),e<3||f<3||f>=e)return!0;for(var g=2,h=1;(e>=6||f<4)&&(g*f<=e||g*f-e<=f);)g++;g*f>=12&&e>=6&&(h=2);var i=g*f-6*h,j=e-3*h,k=j-i;if(e<8&&2*j<i){for(g=2;(e>=6||f<4)&&(g*f<=e||g*f<e+4);)g++;i=2===h?g*f-10:g*f-6,k=j-i,f%3==0||e<6?(c(d.find(">.tz-flex-item")[1]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2")):(c(d.find(">.tz-flex-item")[2]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2"))}else{if(f>6)if(i=g*f-(6*h+2*(f-6)),2*(j=e-(3*h+2*(f-6)))<i&&g>2)g--,i=g*f-(6*h+2*(f-6)),j=e-(3*h+2*(f-6)),k=j-i;else if(2*j<i)return!0;for(5===f&&(j=e-(3*h+3),i=g*f-(6*h+3));j>f&&i>f;)j-=f,i-=f;f%3==0||e<6||7===f?(c(d.find(">.tz-flex-item")[1]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2").css("grid-row-end","span 2")):(c(d.find(">.tz-flex-item")[2]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2").css("grid-row-end","span 2"))}if(k<0)if(2*j>=i)for(var l=1;l<=j&&j+l<=i;l++)c(d.find(">.tz-flex-item")[e-l]).css("grid-column-end","span 2");else if(-1===j&0===i)d.find(">.tz-flex-item").last().css("grid-column-end","span 2");else for(var l=1;l<=j;l++)c(d.find(">.tz-flex-item")[e-l]).hide();for(var m=0;m<k;m++)c(d.find(">.tz-flex-item")[e-m-1]).hide()},grid_style_5:function(a,b,c){var d=c("#"+a+" .tz-flex-items"),e=d.find(">.tz-flex-item").length,f=(d.width()-d.width()%b)/b;if(d.find(">.tz-flex-item").css("grid-column-end","").css("grid-row-end","").show(),3===e&&2===f&&c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 1").css("grid-row-end","span 2"),3===e&&3===f&&c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),e<3||f<3||f>=e)return!0;for(var g=2,h=1;(e>=6||f<4)&&(g*f<=e||g*f-e<=f);)g++;g*f>=12&&e>=6&&(h=2);var i=g*f-6*h,j=e-3*h,k=j-i;if(e<8&&2*j<i){for(g=2;(e>=6||f<4)&&(g*f<=e||g*f<e+4);)g++;i=2===h?g*f-10:g*f-6,k=j-i,3===f?(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[4]).css("grid-column-end","span 2")):f%3==0||e<6?(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[2]).css("grid-column-end","span 2")):(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2"))}else{if(f>6)if(i=g*f-(6*h+2*(f-6)),2*(j=e-(3*h+2*(f-6)))<i&&g>2)g--,i=g*f-(6*h+2*(f-6)),j=e-(3*h+2*(f-6)),k=j-i;else if(2*j<i)return!0;for(5===f&&(j=e-(3*h+3),i=g*f-(6*h+3));j>f&&i>f;)j-=f,i-=f;3===f?(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[4]).css("grid-column-end","span 2").css("grid-row-end","span 2")):f%3==0||e<6||7===f?(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[2]).css("grid-column-end","span 2").css("grid-row-end","span 2")):(c(d.find(">.tz-flex-item")[0]).css("grid-column-end","span 2").css("grid-row-end","span 2"),2===h&&c(d.find(">.tz-flex-item")[3]).css("grid-column-end","span 2").css("grid-row-end","span 2"))}if(k<0)if(2*j>=i)for(var l=1;l<=j&&j+l<=i;l++)c(d.find(">.tz-flex-item")[e-l]).css("grid-column-end","span 2");else if(-1===j&0===i)d.find(">.tz-flex-item").last().css("grid-column-end","span 2");else for(var l=1;l<=j;l++)c(d.find(">.tz-flex-item")[e-l]).hide();for(var m=0;m<k;m++)c(d.find(">.tz-flex-item")[e-m-1]).hide()}};